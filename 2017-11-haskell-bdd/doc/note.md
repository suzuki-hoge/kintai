# 雑記
## お題
+ お題はあえて「こんなの作って！」的なふわっとした感じで書いた

## プロセス
+ 記述はふるまいを書く？って言うけど、ふるまいって何だろう
  + 「受注係が在庫管理者に〜〜」みたいなアクターが今回はなかったせい？
  + サービス仕様を厳格に？定めた単語を用いて言う感じになった？
+ 記述にはサービス仕様が現れて欲しいはず
  + そのままテストになるんだし
+ 記述とデータ構造を往復してブラッシュアップしていくと、コードが書けるのではないかという仮説
+ けどデータ構造と実装上のモジュール構成も違うはずで、その辺が全く勝手が掴めなかった

## モデル
+ 図と記述とコードを保守するの辛い
  + OOP だったら図から実装をほぼ修正無く出来るので、慣れもあるだろうけど
  + どのフェーズで使うもので、いつまで保守するのかとかは考えた方が良さそう
+ データ構造と依存関係は全然違うので、それに困った
+ 書いた図はデータ構造で、例えば休憩時間の算出に何が必要かみたいな依存は全く出ていない

## 実装
+ `Time`, `Times`, `Term`を無作為に作って一度詰んだ
+ 仕様変更に明らかに耐えられない箇所が多いし、リファクタも全然出来てないけど、とりあえずテストが通ることをまず目標とした
+ .hs ファイルは何単位で切るんだろう
  + これが一番わからない

## テスト
+ hspec のターミナル出力がカラフルだし見やすくて本当に良い -> README からリンクしてる [これ](./hspec.png)
+ 記述とテストで切り口が逆な気がしたんだけど、その辺はどうなんだろう？

（すごい素人のイメージ）

記述
```
# パターン１

Ａ さんが Ｂ さんに Ｘ を行った場合、Ｃ と Ｄ から受注票を作る。
在庫がある場合は納品日を翌日に設定し、Ａ さんへの納品書の作成を行う。

# パターン２

Ａ さんが Ｂ さんに Ｘ を行った場合、Ｃ と Ｄ から受注票を作る。
在庫がない場合はメーカーに問い合わせ、メーカーの希望納品日を納品日を翌日に設定し、メーカーへの発注書と Ａ さんへの納品書の作成を行う。
```

こういうのがユースケースをパターンごとに書く感じ？

対して実装は`納品日.hs`とかで切ると思うので

```
納品日
    在庫がある場合は翌日とする
    在庫がない場合はメーカーの希望納品日とする

メーカー発注書
    在庫がある場合はなにもしない
    在庫がない場合は発注書を作成する
```

みたいになんか逆になる気がした、って感じ。

## 感想
結論としては、ほとんど設計できずに手探りで実装してドキュメントの方を最後に帳尻を合わせた感じになってしまった  
目標とするプロセスや BDD とは、みたいな部分はあまり知見が得られなかった気がする...かな？

あと haskell 書き慣れてない

## 今後
+ 何の勉強もしていないどころか、BDD という単語が初耳
+ 僕の場合「とりあえずやる」->「勉強する」->「またやる」->「勉強する」のループなので、最初はこれで良い
+ とは言っても、今後どうしたら良ーんかね...
